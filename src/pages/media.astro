---
// Component Imports
import BaseLayout from '../layouts/BaseLayout.astro'
import BlogPostPreview from '../components/BlogPostPreview.vue';
import { getPodcasts } from '../api/podcasts.mjs'
import naturalOrder from 'natural-order'

const podcasts = await getPodcasts();
// const posts = await Astro.glob('../pages/blog/*.md')
//     .then(posts =>
//         posts.map(post =>
//             ({...post.frontmatter,
//                 url: post.url,
//                 type: 'blog',
//                 host: post.frontmatter.author === 'Lindsay Wardell',
//                 name: post.frontmatter.name || 'Lindsay Wardell Blog',
//                 pubDate: post.frontmatter.date
//             })
//         ));

// const allPosts = naturalOrder([...podcasts, ...posts])
//     .orderBy('desc')
//     .sort(['pubDate'])

---

<BaseLayout>
  <div>
    <h2 class="text-5xl text-center py-4">Podcasts and Videos</h2>
    <div class="flex flex-col lg:flex-row flex-wrap">
      {podcasts.map(p => (
      <div class="w-full lg:w-1/2 xl:w-1/3 p-4">
        <BlogPostPreview item={p} />
      </div>
      ))}
    </div>
  </div>
</BaseLayout>