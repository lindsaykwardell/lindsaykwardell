---
import BaseLayout from './BaseLayout.astro'
import SocialLinks from '../components/SocialLinks.vue'
import dayjs from 'dayjs'

const {content} = Astro.props;
const {title, snippet, date, author, image, slug} = content;
---
<BaseLayout title={title} description={snippet} image={image} permalink={slug}>
<style slot="head" global lang="scss">
  @use "prismjs/themes/prism-tomorrow.css";
</style>

<div class="blog-post flex justify-center items-center flex-col">
    <div
      class="bg-white dark:bg-gray-800 dark:text-gray-200 shadow-md my-5 transition duration-100 w-full lg:w-[1000px]"
    >
      <div class="post-title">
        <img
          class="hero dark:bg-white object-cover m-auto w-full max-h-[420px] mb-4"
          src={image}
          alt=""
        />
        <h1 class="title px-4 max-w-[900px] m-auto">{ title }</h1>
        <div
          class="text-center pt-2 text-gray-600 dark:text-gray-400 transition duration-100"
        >
          Published by { author } on { dayjs(date).format("MMM DD YYYY") }
        </div>
        <SocialLinks client:idle class="m-auto pt-3" />
      </div>
      <hr />
      <article class="py-8 px-4 md:px-0 prose m-auto dark:prose-dark">
        <slot />
      </article>
    </div>
  </div>
</BaseLayout>
  
<style global lang="postcss">
.blog-post {
  .post-title {
    text-align: center;
  }

  @media (max-width: 50em) {
    .hero {
      max-height: 260px;
      margin-top: 0;
      margin-bottom: 2rem;
    }
  }
}
</style>
